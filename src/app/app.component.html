<mat-card class="card">
  <img src="assets/nadl.svg">
  <span class="sand">NADL Sandbox Documentation</span>
  </mat-card>
<!--The content below is only a placeholder and can be replaced.-->
<div style="text-align:center; padding: 20px;">
  <h3 class="nadl">
     Welcome to NADL
  </h3>
</div>
<div class="about">
     About NADL
</div>
<br>
<div class="intro">
  <pre class="in">NESL Asset Data Limited (NADL), a Non-Banking Financial Company is a wholly owned 
subsidiary of NESL. NADL proposes to provide the services of an Account Aggregator duly retrieving, 
collecting, consolidating, organizing and presenting financial information pertaining to customers, 
whereby customers would benefit from single view of their financial information.
  </pre>

</div>
<div class="about">
  Prerequisites
</div>

<div class="pre">
  <pre class="in"> 
    <b>Virtual User Address</b> - Each user who has an account with the AA is identified by the unique Virtual 
    User Address of the form “account@AA_identifier” form.
    <b>Password</b> - It is the login password of end customer registered with NADL.
    Note: Additionally, a 6-digit pin can be setup for the mobile application.
  </pre>
</div>
<div class="about">
  Sandbox Details for API calls
</div>
<div class="pre">
  <pre class="in"> 
    In order to connect with our Sandbox and make use of the APIs, you need to whitelist our 
    Sandbox credentials in your network and we need to do the same for your credentials.
    You can send us your credentials via email.
    <br>
    <b>Base URL</b>
    https://svc-services-proxy-sb-cluster.nadl.co.in
    <b>IP</b> : 172.18.255.14
    <b>Port No </b>: 443
    <br>
    <b>Prerequisites</b>   
    <pre class="p">
Below are some of the keys needed to make successful API calls with our Sandbox
<div class="aa">
<b>aa_api_key</b> - The HTTP header that needs to be set when an AA calls the FIP or FIU API. 
This value is generated by the FIP or FIU and given to AA.
</div>
<div class="fip">
<b>fip_api_key</b> - This HTTP header needs to be set when FIP calls the AA APIs. This is generated 
by AA and given to FIP to be used along with the x-jws-signature header. 
</div>
<b>client_api_key</b> - The HTTP header that needs to be set for every API call when FIU calls the 
AA APIs and value contains the token that AA gives to FIU. This is used in conjunction with the 
x-jws-signature that FIU will set in the API when calling AA.
<div class="jws">
<b>x-jws-signature</b> - The HTTP header that contains the 'detached' signature of the body. API 
request/response needs to be signed and the signature to be set in this header
</div>
<b>API Calls</b> 
<div class="cus">
  <b>Customer Journey</b>
  <table class="customer">
    <tr>
      <th>Event</th>
    <th>Rebit API Used</th>
    </tr>
    <tr>
      <td>Asset discovery</td>
      <td>POST/Accounts/discover</td>
      </tr>
      <tr>
        <td>Asset linking</td>
        <td>POST/Accounts/link</td>
        </tr>
        <tr>
          <td>Delink linked assets</td>
          <td>DELETE/Accounts/link</td>
          </tr>
          <tr>
            <td>To authenticate customer during asset linking</td>
            <td>GET/Accounts/link/{{ '{' }}RefNumber{{ '}' }}/{{ '{' }}Token{{ '}' }}</td>
            </tr>
            <tr>
              <td>Create consent artifact</td>
              <td>POST/Consent</td>
              </tr>
              <tr>
                <td>Send FI data request to FIP</td>
                <td>POST/FI/request</td>
                </tr>
                <tr>
                  <td>FIP sends FI data ready notification to AA</td>
                  <td>POST/FI/Notification</td>
                  </tr>
                  <tr>
                    <td>Fetch FI data received from FIP</td>
                    <td>GET/FI/fetch/{{ '{' }}sessionId{{ '}' }}</td>
                    </tr>
           
  </table>
  <b>FIU Journey</b>
  <table class="customer">
    <tr>
      <th>Event</th>
    <th>Rebit API Used</th>
    </tr>
    <tr>
      <td>Create consent request</td>
      <td>POST/Consent</td>
      </tr>
      <tr>
        <td>To get the status of consent request</td>
        <td>GET/Consent/handle/{{ '{' }}consentHandle{{ '}' }}</td>
        </tr>
        <tr>
          <td>Send FI data request to FIP</td>
          <td>POST/FI/request</td>
          </tr>
          <tr>
            <td>FIP sends FI data ready notification to AA</td>
            <td>POST/FI/Notification</td>
            </tr>
            <tr>
              <td>Fetch FI data received from FIP</td>
              <td>GET/FI/fetch/{{ '{' }}sessionId{{ '}' }}</td>
              </tr>
  </table>      
Following APIs can be used to connect to our Sandbox (We are following version 1.1.3) 
<div class="desc">
1. <b>POST/Consent</b> : This API is intended for AA Client/ FIU to request generation of digitally 
    signed consent artefacts. The customer has to use the AA application to select accounts and 
    approve consent generation. Once the customer approves the consent request on the AA 
    application, AA generates the digitally signed consent artefacts. Note - The AA Client/ FIU 
    never sees the account of the customer or directly participates in consent generation.
<div class="desc">
2. <b>GET/Consent/handle/{{ '{' }}consentHandle{{ '}' }}</b> : This API is intended for checking the status of a 
     previously submitted Consent Artefacts creation request.
</div>
<div class="desc">
3. <b>GET/Consent/{{ '{' }}id{{ '}' }}</b> : This API is intended for fetching the information associated with the 
     specific consent. 
</div>    
<div class="desc">
4. <b>POST/FI/request</b>: The FIU or the User submits the Consent IDs of the consents required for 
    fetching financial information from the FIP(s). A set of sessionIds are generated and returned. 
    These sessionIDs enable the FIU or the  User to fetch the information from the AA once available.   
    </div>  
5. <b>GET/FI/fetch/{{ '{' }}sessionId{{ '}'}}</b> : Once FIU receives the notification (Data-Ready) from AA, 
     using digitally signed consent request received from AA, this API can be used to fetch the financial 
     information from the AA.
    <div class="desc">
6. <b>POST/Consent/Notification</b> : API handles the notifications corresponding to the events 
    generated during consent flow.  
    </div>
7. <b>POST/FI/Notification</b> : API handles the notifications corresponding to the events generated 
    during data-flow.


8. <b>POST/Account/link/Notification</b>: API handles the notifications corresponding to the events 
    generated during account linkage flow. 


9. <b>GET/Heartbeat</b> : This API is used by FIP and FIUs to check the availability of AAs.          
</div>
</div></pre>
<div class="support">
<b>Support</b>
<pre class="qu">  If you have any questions, please feel free to contact us at jawad@nadl.co.in</pre>
</div>
</pre>
</div>
<mat-card class="cards">
  <span class="sands">Copyright © 2020 NADL</span>
</mat-card>
<!--<div class="container">
  <div class="row">
      <div class="col-md-4 offset-md-4">
          <form [formGroup]="registerForm" (ngSubmit)="signup();">
            <div class="formbox">

                <div class="form-group">
                  <input type="text" formControlName="fullName" class="form-control" placeholder="Full Name" [ngClass]="{ 'is-invalid': submitted && fval.fullName.errors }"/>
                  <div *ngIf="submitted && fval.fullName.errors" class="invalid-feedback">
                      <div *ngIf="fval.fullName.errors.required">
                          Full Name is required
                      </div>
                    
                  </div>
                </div>
                <div class="form-group">
                  <input type="text" formControlName="aadhar" class="form-control" placeholder="Aadhar" [ngClass]="{ 'is-invalid': submitted && fval.email.errors }" />
                  <div *ngIf="submitted && fval.email.errors" class="invalid-feedback">
                      <div *ngIf="fval.aadhar.errors.required">Aadhar is required</div>
                      <div *ngIf="fval.aadhar.errors.aadhar">Enter a valid aadhar</div>
                  </div>
                </div>

                <div class="form-group">
                  <input type="text" formControlName="pan" class="form-control" placeholder="PAN" maxlength="10" minlength="10" [ngClass]="{ 'is-invalid': submitted && fval.pan.invalid }" required />
                  <div *ngIf="submitted && fval.pan.errors" class="invalid-feedback">
                      <div *ngIf="fval.pan.errors.required">PAN is required</div>
                  </div>
                </div>
                <div class="form-group">
                  <button type="submit" class="btn btn-primary signin" (click)='getfip()'>Get FIPs<span class="arrowbtn"><span
                        class="fa fa-arrow-right" ></span></span></button>
                </div>
              </div>
          </form>
        </div>

  </div>
</div>-->




